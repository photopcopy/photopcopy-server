(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(9993)}])},9993:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Ie}});var s=n(5893),i=n(7294),o=n(9008),r=n(6491),a=n.n(r),c=n(8533),l=n(2497),d=n(8520),u=n.n(d),p="/api/getposts",h="/api/comment";function g(e,t,n,s,i,o,r){try{var a=e[o](r),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(s,i)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(s,i){var o=e.apply(t,n);function r(e){g(o,s,i,r,a,"next",e)}function a(e){g(o,s,i,r,a,"throw",e)}r(void 0)}))}}function x(e,t){return f.apply(this,arguments)}function f(){return(f=m(u().mark((function e(t,n){var s,i,o,r,a,c,l,d,h,g,m,x,f,b;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new URL(p,location.origin),t&&s.searchParams.append("last",t),e.next=4,fetch(s.href).then((function(e){return e.json()}));case 4:i=e.sent,o=!0,r=!1,a=void 0,e.prev=6,c=i.posts[Symbol.iterator]();case 8:if(o=(l=c.next()).done){e.next=31;break}for((d=l.value).author=i.users[d.author],h=!0,g=!1,m=void 0,e.prev=12,x=d.comments[Symbol.iterator]();!(h=(f=x.next()).done);h=!0)(b=f.value).author=i.users[b.author];e.next=20;break;case 16:e.prev=16,e.t0=e.catch(12),g=!0,m=e.t0;case 20:e.prev=20,e.prev=21,h||null==x.return||x.return();case 23:if(e.prev=23,!g){e.next=26;break}throw m;case 26:return e.finish(23);case 27:return e.finish(20);case 28:o=!0,e.next=8;break;case 31:e.next=37;break;case 33:e.prev=33,e.t1=e.catch(6),r=!0,a=e.t1;case 37:e.prev=37,e.prev=38,o||null==c.return||c.return();case 40:if(e.prev=40,!r){e.next=43;break}throw a;case 43:return e.finish(40);case 44:return e.finish(37);case 45:return e.abrupt("return",i.posts);case 46:case"end":return e.stop()}}),e,null,[[6,33,37,45],[12,16,20,28],[21,,23,27],[38,,40,44]])})))).apply(this,arguments)}var b=n(6963),y=n(4890),_=n(3253),j=n.n(_),v=JSON.parse('{"misc":{"edit":"Edit","tba":"To be added"},"mainpage":{"post":{"like":"Like","unlike":"Unlike","comment":"Chat"},"sidebar":{"home":"Home","notifications":"Notifications","refresh":"Refresh","post":"Post","logout":"Logout","settings":"Settings","search":"Search"}},"createpostpage":{"title":"Create Post"},"settingspage":{"title":"Settings","tabs":{"account":"Account","appearance":"Appearance","privacy":"Privacy","sessions":"Sessions","language":"Language"},"sections":{"account":{"title":"Account","username":"Username","password":"Password","token":"Token"},"theme":{"title":"Theme","lightMode":"Light Mode","darkMode":"Dark Mode"},"accentColor":{"title":"Accent Color"},"embeds":{"title":"Embeds","description":"Embeds are from 3rd party sites - which could track you or slow down your browser.","embedYouTube":"Embed YouTube Videos","embedTwitchStreams":"Embed Twitch Streams","embedTwitchLiveChat":"Embed Twitch Live Chat","embedGIFs":"Embed GIFs","embedScratch":"Embed Scratch Games","embedCodeDotOrg":"Embed code.org Projects"},"textSize":{"title":"Text Size","postTextSize":"Post Text Size"},"blockedUsers":{"title":"Blocked Users"},"activeSessions":{"title":"Active Sessions","signOutAll":"Sign Out of All Sessions"},"language":{"title":"Language","description":"I don\'t plan to add support for other languages. This is just for forward compatibility.","english":"English","retarded":"Retarded"}}}}'),k=n.t(v,2),C=JSON.parse('{"misc":{"edit":"Edit","tba":"To be added"},"mainpage":{"post":{"like":"+1 social credit","unlike":"-999 social credits","comment":"Argue"},"sidebar":{"home":"House","notifications":"Bell","refresh":"Again","post":"Tweet","logout":"Unexist","settings":"Change Thinger","search":"See"}},"createpostpage":{"title":"Make thought of mind"},"settingspage":{"title":"Change Things","tabs":{"account":"Myself","appearance":"Look","privacy":"Secure","sessions":"Existences","language":"Language"},"sections":{"account":{"title":"Me","username":"Stupid","password":"Password","token":"Token"},"theme":{"title":"Look","lightMode":"White","darkMode":"Black"},"accentColor":{"title":"Skittles"},"embeds":{"title":"Squares","description":"Lots of squares below","embedYouTube":"The square at the top","embedTwitchStreams":"The square below the square at the top","embedTwitchLiveChat":"The square in the middle","embedScratch":"The square below the square in the middle","embedGIFs":"The Penultimate Square","embedCodeDotOrg":"The Final Square"},"textSize":{"title":"Text Size","postTextSize":"Post Text Size"},"blockedUsers":{"title":"Go away"},"activeSessions":{"title":"History","signOutAll":"Clear search history"},"language":{"title":"Language","description":"I don\'t plan to add support for other languages. This is just for forward compatibility.","english":"English","retarded":"Retarded"}}}}'),S={english:k,retarded:n.t(C,2)},w=n(2814),N=n(1436),P=n(6818),O=n.n(P);function T(e){var t=(0,l.v9)(pe),n=S[t.language].createpostpage;return(0,s.jsxs)(j(),{isOpen:e.isOpen,closeTimeoutMS:500,onAfterClose:function(){},ariaHideApp:!1,className:"".concat(O().page),style:{overlay:{position:"fixed",inset:0,backgroundColor:"rgb(0, 0, 0, 0)"}},children:[(0,s.jsxs)("header",{style:{userSelect:"none",width:"100%",display:"flex",alignItems:"center",padding:10},children:[(0,s.jsx)("div",{style:{width:"100%",height:"100%",fontSize:40},children:n.title}),(0,s.jsx)("div",{style:{float:"right"},children:(0,s.jsx)(w.G,{cursor:"pointer",style:{width:30,height:30},onClick:function(){e.onRequestClose()},icon:N.NBC})},"topbarRight")]}),(0,s.jsx)("div",{style:{width:"100%",height:"100%",display:"flex",overflow:"hidden"}},"body")]},"createpostpage")}var R=n(3359),I=n.n(R);function M(e){var t=(0,l.I0)(),n=(0,l.v9)(pe);return(0,s.jsx)("button",{"data-selected":n.accentColor===e.color,className:I().accent_option,style:{backgroundColor:e.color},onClick:function(){t(ue({accentColor:e.color}))}})}function A(e){var t=(0,l.v9)(pe),n={};e.items.forEach((function(t,s){n[s]=e.default[s]||!1}));var o=(0,i.useState)(n),r=o[0],a=(o[1],(0,i.useState)(0)),c=a[0],d=a[1];return(0,s.jsx)("div",{children:e.items.map((function(n,i){return(0,s.jsxs)("div",{style:{display:"flex",marginTop:4},title:n,children:[(0,s.jsx)("button",{"data-selected":r[i],onClick:function(){r[i]=!r[i],e.updated(r),d(c+1)},className:I().checkbox,children:(0,s.jsx)("div",{className:I().inner,style:{backgroundColor:t.accentColor}})}),(0,s.jsx)("div",{style:{width:"100%",position:"relative"},children:(0,s.jsx)("div",{style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)",overflow:"hidden",width:"calc(100% - 5px)",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:n})})]},i)}))})}function L(e){return(0,s.jsx)("div",{className:I().options_page,"data-selected":e.self===e.current,children:(0,s.jsx)("div",{children:e.children},"content")})}function z(e){var t=(0,i.useState)(e.default),n=t[0],o=t[1],r=(0,l.v9)(pe);return(0,s.jsx)("div",{children:e.items.map((function(t,i){return(0,s.jsxs)("div",{style:{display:"flex",marginTop:4},children:[(0,s.jsx)("button",{"data-selected":n===i,className:I().radio_select,onClick:function(){o(i),e.updated(i)},children:(0,s.jsx)("div",{className:I().inner,style:{backgroundColor:r.accentColor}})}),(0,s.jsx)("div",{style:{width:"100%",position:"relative"},children:(0,s.jsx)("div",{style:{position:"absolute",left:10,top:"50%",transform:"translateY(-50%)"},children:t})})]},i)}))})}function E(e){return(0,s.jsxs)("section",{className:I().section,children:[(0,s.jsx)("h1",{children:e.title}),e.children]})}function q(e){var t=(0,l.v9)(pe);return(0,s.jsx)("button",{onClick:e.onClick,"data-selected":e.self===e.current,disabled:e.self===e.current,className:I().sidebar_tab,style:{color:e.self===e.current?t.accentColor:""},children:e.children})}var G,D,F=n(4855),U=n.n(F);function B(e){var t=(0,l.v9)(pe),n=(0,l.I0)(),o=S[t.language].settingspage,r=(0,i.useState)(G.Account),a=r[0],c=r[1];return(0,s.jsxs)(j(),{isOpen:e.isOpen,closeTimeoutMS:500,onAfterClose:function(){},ariaHideApp:!1,className:"".concat(I().settingspage),style:{content:{display:"flex",flexDirection:"column"},overlay:{position:"fixed",inset:0,backgroundColor:"rgb(0, 0, 0, 0)"}},children:[(0,s.jsxs)("header",{children:[o.title,(0,s.jsx)(w.G,{cursor:"pointer",style:{position:"absolute",right:10,width:30,height:30},onClick:function(){e.onRequestClose()},icon:N.NBC})]}),(0,s.jsxs)("div",{className:I().body,children:[(0,s.jsxs)("aside",{children:[(0,s.jsx)(q,{self:G.Account,current:a,onClick:function(){c(G.Account)},children:o.tabs.account}),(0,s.jsx)(q,{self:G.Appearance,current:a,onClick:function(){c(G.Appearance)},children:o.tabs.appearance}),(0,s.jsx)(q,{self:G.Privacy,current:a,onClick:function(){c(G.Privacy)},children:o.tabs.privacy}),(0,s.jsx)(q,{self:G.Sessions,current:a,onClick:function(){c(G.Sessions)},children:o.tabs.sessions}),(0,s.jsx)(q,{self:G.Language,current:a,onClick:function(){c(G.Language)},children:o.tabs.language})]},"sidebar"),(0,s.jsxs)("div",{style:{position:"relative",width:"100%",height:"100%"},children:[(0,s.jsx)(Y,{current:a}),(0,s.jsxs)(L,{self:G.Appearance,current:a,children:[(0,s.jsx)(E,{title:o.sections.theme.title,children:(0,s.jsx)(z,{items:[o.sections.theme.lightMode,o.sections.theme.darkMode],default:["light","dark"].indexOf(t.theme),updated:function(e){switch(e){case 0:n(ue({theme:"light"}));break;case 1:n(ue({theme:"dark"}))}}})}),(0,s.jsx)(E,{title:o.sections.accentColor.title,children:(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)(M,{color:"red"}),(0,s.jsx)(M,{color:"orange"}),(0,s.jsx)(M,{color:"yellow"}),(0,s.jsx)(M,{color:"#00FF00"}),(0,s.jsx)(M,{color:"#5ab7fa"}),(0,s.jsx)(M,{color:"purple"})]})}),(0,s.jsxs)(E,{title:o.sections.textSize.title,children:[(0,s.jsx)("span",{className:I().description,children:"Does not work yet lol"}),(0,s.jsx)(z,{items:["Cozy","Compact"],default:0,updated:function(e){switch(e){case 0:n(ue({postTextSize:30}));break;case 1:n(ue({postTextSize:20}))}}})]}),(0,s.jsxs)(E,{title:o.sections.embeds.title,children:[(0,s.jsx)("span",{className:I().description,children:o.sections.embeds.description}),(0,s.jsx)(A,{items:[o.sections.embeds.embedYouTube,o.sections.embeds.embedTwitchStreams,o.sections.embeds.embedTwitchLiveChat,o.sections.embeds.embedGIFs,o.sections.embeds.embedScratch,o.sections.embeds.embedCodeDotOrg],default:{0:!0,1:!0,2:!0},updated:function(){}})]})]}),(0,s.jsx)(L,{self:G.Privacy,current:a,children:(0,s.jsx)(E,{title:o.sections.blockedUsers.title,children:"tba"})}),(0,s.jsx)(L,{self:G.Sessions,current:a,children:(0,s.jsx)(E,{title:o.sections.activeSessions.title,children:(0,s.jsx)("button",{style:{backgroundColor:t.accentColor},className:I().signout_btn,children:o.sections.activeSessions.signOutAll})})}),(0,s.jsx)(L,{self:G.Language,current:a,children:(0,s.jsxs)(E,{title:o.sections.language.title,children:[(0,s.jsx)("span",{className:I().description,children:o.sections.language.description}),(0,s.jsx)(z,{items:[o.sections.language.english,o.sections.language.retarded],default:0,updated:function(e){switch(e){case 0:n(ue({language:"english"}));break;case 1:n(ue({language:"retarded"}))}}})]})})]},"contentContainer")]},"body")]})}function Y(e){var t=e.current,n=(0,l.v9)(pe),i=S[n.language].settingspage,o=(0,l.v9)((function(e){return e.user})),r=o.username,a=o.token;return(0,s.jsx)(L,{self:G.Account,current:t,children:(0,s.jsxs)(E,{title:i.sections.account.title,children:[(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsxs)("span",{style:{marginRight:4},children:[i.sections.account.username,":"]}),(0,s.jsx)("span",{style:{marginRight:5,display:"inline-block",overflow:"hidden",maxWidth:120,textOverflow:"ellipsis"},children:r}),(0,s.jsx)("button",{className:I().edit_btn,style:{backgroundColor:n.accentColor},children:"Edit"})]}),(0,s.jsxs)("div",{style:{display:"flex"},children:[(0,s.jsx)("span",{style:{marginRight:4},children:i.sections.account.token})," ",(0,s.jsx)(U(),{text:a,children:(0,s.jsx)("button",{className:I().edit_btn,style:{backgroundColor:n.accentColor},children:"Copy"})})]})]})})}(D=G||(G={}))[D.Account=0]="Account",D[D.Appearance=1]="Appearance",D[D.Privacy=2]="Privacy",D[D.Sessions=3]="Sessions",D[D.Language=4]="Language";var H=n(3588),J=n.n(H);function W(e){var t=(0,l.v9)(pe),n=(0,l.I0)();return(0,s.jsxs)(j(),{isOpen:e.isOpen,closeTimeoutMS:500,onAfterClose:function(){},ariaHideApp:!1,className:"".concat(J().signinmenu," ").concat(J()[e.state.page]),style:{content:{display:"flex",flexDirection:"column"},overlay:{position:"fixed",inset:0,backgroundColor:"rgb(0, 0, 0, 0)"}},children:[(0,s.jsxs)("form",{"data-index":0,action:"javascript:void(0);",className:J().container,style:{left:"signin"===e.state.page?0:"-100%"},children:[(0,s.jsx)("h2",{style:{margin:0},children:"Sign In"}),(0,s.jsxs)("p",{children:["Sign in to Photopcopy. No, you can","'","t migrate accounts."]}),(0,s.jsx)("input",{placeholder:"Username"}),(0,s.jsx)("input",{type:"password",placeholder:"Password"}),(0,s.jsxs)("p",{style:{fontSize:13},children:["Forgot your password? Not my problem. You could try emailing"," ",(0,s.jsx)("a",{style:{color:"cyan"},href:"mailto:photopcopy@gmail.com",children:"photopcopy@gmail.com"})," ","to see if you can get your account back tho."]}),(0,s.jsxs)("footer",{children:[(0,s.jsx)("button",{className:J().primarybtn,style:{backgroundColor:t.accentColor,width:"100%",marginRight:4,borderRadius:4},children:"Sign In"},"SignInPage"),(0,s.jsx)("button",{className:J().secondarybtn,style:{width:"100%",marginLeft:4,borderRadius:4},onClick:function(){n(ae({name:"SignInMenu",state:{page:"register"}}))},children:"Register"},"Register")]})]}),(0,s.jsxs)("div",{className:J().container,style:{left:"signin"===e.state.page?"100%":0},children:[(0,s.jsx)("h2",{style:{margin:0},children:"Register"}),(0,s.jsx)("p",{style:{marginBottom:20},children:"Photopcopy is your happy. You will be happy. You will make Photopcopy account."}),(0,s.jsx)("input",{placeholder:"Username"}),(0,s.jsx)("input",{type:"password",placeholder:"Password"}),(0,s.jsx)("input",{type:"password",placeholder:"Confirm Password"}),(0,s.jsx)("input",{placeholder:"Email (Optional)"}),(0,s.jsxs)("p",{style:{fontSize:13},children:["Privacy good. Email bad. We no bad like Photop and we won","'","t require your email."]}),(0,s.jsxs)("footer",{children:[(0,s.jsx)("button",{className:J().primarybtn,style:{backgroundColor:t.accentColor,width:"100%",marginRight:4,borderRadius:4},children:"Register"},"SignInPage"),(0,s.jsx)("button",{className:J().secondarybtn,style:{width:"100%",marginLeft:4,borderRadius:4},onClick:function(){n(ae({name:"SignInMenu",state:{page:"signin"}}))},children:"Sign In"},"Register")]})]}),(0,s.jsx)("button",{className:J().closebtn,onClick:function(){e.onRequestClose()},children:(0,s.jsx)(w.G,{icon:N.NBC})})]},"signinpage")}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q,X=(0,b.oM)({name:"UserSlice",initialState:{token:"test_user_token",userid:"test_user",username:"Test_User",signedIn:!0},reducers:{signOut:function(e){return e.token="",e.userid="",e.signedIn=!1,e.username="",e},signIn:function(e,t){var n=t.payload,s=n.username,i=n.userid,o=n.token;return e.username=s,e.userid=i,e.token=o,e}}}),Z=(0,b.oM)({name:"ui slice",initialState:{sidebarOpen:!1,posts:[]},reducers:{setPosts:function(e,t){var n=t.payload;e.posts=n},addPosts:function(e,t){var n=t.payload;e.posts=e.posts.concat(n)},showSidebar:function(e){return e.sidebarOpen=!0,e},hideSidebar:function(e){return e.sidebarOpen=!1,e}}}),K=(0,b.oM)(V({name:"popup slice",initialState:{CreatePostMenu:{isOpen:!1,renderer:function(e,t,n){return(0,s.jsx)(T,{onRequestClose:e,isOpen:t,state:n})},state:{}},SettingsMenu:{isOpen:!1,renderer:function(e,t,n){return(0,s.jsx)(B,{onRequestClose:e,isOpen:t,state:n})},state:{}},SignInMenu:{isOpen:!1,renderer:function(e,t,n){return(0,s.jsx)(W,{onRequestClose:e,isOpen:t,state:n})},state:{}}}},"reducers",(V(Q={openPopup:function(e,t){var n=t.payload,s=n.name,i=n.state;return e[s].isOpen=!0,i&&(e[s].state=i),e}},"closePopup",(function(e,t){e[t.payload].isOpen=!1})),V(Q,"addPopups",(function(e,t){var n=t.payload,s=n.key,i=n.renderer,o=n.isOpen,r=n.state;return e[s]={renderer:i,isOpen:o,state:r},e})),Q))),$=(0,b.oM)({name:"User Settings",initialState:{theme:"dark",language:"english",accentColor:"#5ab7fa",postTextSize:20},reducers:{updateSettings:function(e,t){return e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),s.forEach((function(t){V(e,t,n[t])}))}return e}({},e,t.payload)}}}),ee=(0,y.MT)((0,y.UY)({settings:$.reducer,user:X.reducer,ui:Z.reducer,popups:K.reducer})),te=Z.actions,ne=te.showSidebar,se=te.hideSidebar,ie=te.setPosts,oe=te.addPosts,re=K.actions,ae=re.openPopup,ce=re.closePopup,le=(re.addPopups,X.actions),de=(le.signIn,le.signOut),ue=$.actions.updateSettings,pe=function(e){return e.settings},he=n(2235),ge=n.n(he),me=n(4057),xe=n.n(me),fe=n(6096),be=i.forwardRef((function(e,t){var n=e.submitMessage,o=(0,l.v9)((function(e){return e.user.signedIn})),r=(0,i.useState)(""),a=r[0],c=r[1];return(0,s.jsx)(fe.Z,{ref:t,onKeyPress:function(e){"Enter"===e.key&&(n(a),c(""),e.preventDefault())},minRows:1,maxRows:3,value:a,className:ge().input,onChange:function(e){return c(e.target.value)},disabled:!o,placeholder:o?"Type stuff here":"You must be signed in to chat.",style:{cursor:o?void 0:"not-allowed"}})}));function ye(e){var t=(0,l.v9)(pe),n=(0,l.v9)((function(e){return e.user.token})),o=(0,i.useState)(e.isLiked),r=o[0],a=o[1],c=(0,i.useRef)(null),d=(0,i.useRef)(null),u=S[t.language].mainpage.post;return(0,s.jsxs)("div",{className:"".concat(xe().post),style:{borderRadius:8,minHeight:100,display:"flex"},children:[(0,s.jsxs)("div",{className:xe().body,children:[(0,s.jsxs)("div",{className:xe().data,children:[(0,s.jsxs)("div",{className:xe().user_details,children:[(0,s.jsx)("img",{alt:"profilepic",src:"./assets/DefaultProfilePic.svg",style:{height:"100%"}}),(0,s.jsx)("span",{style:{fontSize:20,marginLeft:5},className:xe().username,children:e.author.username})]},"userDetails"),(0,s.jsxs)("div",{style:{marginRight:5,display:"flex"},children:[(0,s.jsxs)("button",{"data-liked":r,className:"".concat(xe().post_action),onClick:function(){a(!r)},title:r?u.unlike:u.like,children:[(0,s.jsx)("span",{children:e.likes+(r&&!e.isLiked?1:0)})," ",(0,s.jsx)(w.G,{icon:N.m6i,color:r?t.accentColor:"grey"})]}),(0,s.jsxs)("button",{className:"".concat(xe().post_action),onClick:function(){},title:u.comment,children:[(0,s.jsx)("span",{children:e.comments.length})," ",(0,s.jsx)(w.G,{icon:N.Mzg,color:e.comments.length?t.accentColor:"grey"})]}),(0,s.jsx)(F.CopyToClipboard,{text:e.id,children:(0,s.jsx)("button",{className:"".concat(xe().post_action),title:"Copy Post ID",onClick:function(){var e;null===(e=c.current)||void 0===e||e.animate([{color:t.accentColor},{color:"grey"}],{duration:500})},children:(0,s.jsx)(w.G,{forwardedRef:c,icon:N.olY,color:"grey"})})})]})]},"postdata"),(0,s.jsx)("div",{className:"".concat(xe().postcontent),children:e.content})]},"postbody"),(0,s.jsxs)("div",{className:"".concat(ge().comment_section),children:[(0,s.jsx)("div",{className:"".concat(ge().header),style:{textAlign:"center",padding:"2px 0px",userSelect:"none"},children:"Chat"}),(0,s.jsx)("div",{style:{height:"100%",overflowY:"scroll",position:"relative"},children:(0,s.jsx)("div",{style:{position:"absolute"},children:function(){var t,n=[];if(0===e.comments.length)return n.push((0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{style:{width:"100%",textAlign:"center"},children:"Chat empty"})})),n;var i=!0,o=!1,r=void 0;try{for(var a,c=e.comments[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value;t!=l.author?(n.push((0,s.jsxs)("div",{className:ge().comment,style:{position:"relative",paddingLeft:30,minHeight:30},children:[(0,s.jsx)("div",{className:"".concat(ge().username),children:l.author.username}),(0,s.jsx)("img",{width:25,height:25,style:{top:15,left:15,transform:"translate(-50%, -50%)",position:"absolute"},src:l.author.avatar,alt:"Profile Picture"}),(0,s.jsx)("div",{style:{fontSize:11},children:l.content})]},l.id)),t=l.author):n.push((0,s.jsx)("div",{style:{paddingLeft:30,fontSize:11,paddingBottom:2},children:l.content}))}}catch(d){o=!0,r=d}finally{try{i||null==c.return||c.return()}finally{if(o)throw r}}return n}()})}),(0,s.jsxs)("div",{className:ge().comment_box,style:{width:"100%",bottom:0,display:"flex",alignItems:"center"},children:[(0,s.jsx)(be,{submitMessage:function(t){fetch(h,{method:"POST",headers:{"content-type":"application/json",authorization:n},body:JSON.stringify({content:t,post:e.id})})}}),(0,s.jsx)("button",{style:{float:"right",height:24,padding:4,width:24,display:"inline-block",position:"relative",background:"transparent"},title:"Send Message",children:(0,s.jsx)(w.G,{icon:N.XCy,style:{position:"absolute",transform:"translate(-50%, -50%)",left:"50%",top:"50%",cursor:"pointer"},color:"grey",onClick:function(){var e;null===(e=d.current)||void 0===e||e.animate([{color:t.accentColor},{color:"grey"}],{duration:500})},forwardedRef:d})})]})]},"commentContainer")]})}function _e(){var e=(0,l.v9)((function(e){return e.ui.posts})),t=(0,l.I0)();return(0,i.useEffect)((function(){x(void 0,10).then((function(e){t(ie(e))}))}),[]),(0,s.jsx)("div",{style:{width:"100%"},children:(0,s.jsx)(c.Z,{next:function(){var n;x(null===(n=e[e.length-1])||void 0===n?void 0:n.id,5).then((function(e){console.log(e),t(oe(e))}))},hasMore:!0,loader:(0,s.jsx)("h4",{className:a().posts_loading_text,children:"loadin mor posts ;)"}),dataLength:e.length,endMessage:(0,s.jsx)("div",{children:"No more :("}),children:e.map((function(e){return(0,s.jsx)(ye,{author:e.author,isLiked:e.isLiked,likes:e.likes,comments:e.comments,id:e.id,attachments:e.attachments,content:e.content},e.id)}))})},"postContainer")}function je(){return(0,s.jsx)("noscript",{children:(0,s.jsxs)("div",{style:{position:"fixed",width:"100%",height:"100%",backgroundColor:"grey",zIndex:100},children:[(0,s.jsx)("h1",{children:"Enable javascript retard."}),(0,s.jsx)("a",{href:"https://www.nhentai.net/g/364624",children:"Click me for a surprise"}),(0,s.jsx)("span",{style:{opacity:.04},children:"Just kidding dont click it lmao"})]})})}be.displayName="CommentInput";var ve=n(558),ke=n.n(ve);function Ce(e){return(0,s.jsx)("button",{className:"".concat(ke().sidebar_btn),onClick:e.onClick,style:{marginBottom:4,textAlign:"left"},children:e.children})}function Se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],s=!0,i=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(s=(r=a.next()).done)&&(n.push(r.value),!t||n.length!==t);s=!0);}catch(c){i=!0,o=c}finally{try{s||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function we(){var e=(0,l.v9)(pe),t=S[e.language].mainpage,n=Se((0,l.v9)((function(e){return[e.user.signedIn,e.ui.sidebarOpen]})),2),i=n[0],o=n[1],r=(0,l.I0)();return(0,s.jsx)("aside",{className:"".concat(ke().sidebar),style:{marginRight:4},children:(0,s.jsxs)("div",{className:"".concat(ke().sidebar_inner," ").concat(o?ke().open:""),children:[(0,s.jsx)("div",{className:"".concat(ke().sidebar_section," ").concat(ke().sidebar_maximized),style:{borderWidth:6,textAlign:"center",borderStyle:"solid",borderColor:"rgb(0, 0, 0, 0)",borderRadius:4,color:e.accentColor},children:(0,s.jsxs)("div",{style:{fontWeight:1e3,userSelect:"none"},children:[(0,s.jsx)("span",{style:{fontSize:40},children:"Photop"}),"copy"]})}),(0,s.jsxs)("section",{className:ke().sidebar_section,style:{marginTop:4,borderRadius:4,padding:"4px 4px 2px 4px"},children:[(0,s.jsxs)(Ce,{onClick:function(){},children:[(0,s.jsx)(w.G,{color:e.accentColor,icon:N.J9Y}),(0,s.jsx)("span",{children:t.sidebar.home})]}),(0,s.jsxs)(Ce,{onClick:function(){},children:[(0,s.jsx)(w.G,{color:e.accentColor,icon:N.wn1}),(0,s.jsx)("span",{children:t.sidebar.search})]}),(0,s.jsxs)(Ce,{onClick:function(){x(void 0,10).then((function(e){r(ie(e))}))},children:[(0,s.jsx)(w.G,{color:e.accentColor,icon:N.UO1}),(0,s.jsx)("span",{children:t.sidebar.refresh})]})]}),(0,s.jsx)("section",{className:ke().sidebar_section,style:{marginTop:4,borderRadius:4,padding:"4px 4px 2px 4px"},children:i?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(Ce,{onClick:function(){r(ae({name:"CreatePostMenu"}))},children:[(0,s.jsx)(w.G,{color:e.accentColor,icon:N.r8p}),(0,s.jsx)("span",{children:t.sidebar.post})]}),(0,s.jsxs)(Ce,{onClick:function(){r(ae({name:"SettingsMenu"}))},children:[(0,s.jsx)(w.G,{color:e.accentColor,icon:N.b7W}),(0,s.jsx)("span",{children:t.sidebar.settings})]}),(0,s.jsxs)(Ce,{onClick:function(){},children:[(0,s.jsx)(w.G,{color:e.accentColor,icon:N.qmU}),(0,s.jsx)("span",{children:t.sidebar.notifications})]}),(0,s.jsxs)(Ce,{onClick:function(){r(de())},children:[(0,s.jsx)(w.G,{color:e.accentColor,icon:N.jLD}),(0,s.jsx)("span",{children:t.sidebar.logout})]})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{style:{width:"100%",flexDirection:"column"},children:[(0,s.jsx)("p",{className:"".concat(ke().signin_title),style:{padding:4,fontSize:14,userSelect:"none",display:"block",borderRadius:4,margin:0},children:"You need a Photopcopy account in order to do cool stuff like posting or personalizing!"}),(0,s.jsxs)("div",{style:{display:"flex",marginTop:3,marginBottom:3},children:[(0,s.jsx)("button",{style:{backgroundColor:e.accentColor},className:"".concat(ke().signin_btn),onClick:function(){r(se()),r(ae({name:"SignInMenu",state:{page:"signin"}}))},children:"Sign In"}),(0,s.jsx)("button",{className:"".concat(ke().signin_btn),onClick:function(){r(se()),r(ae({name:"SignInMenu",state:{page:"register"}}))},children:"Register"})]})]})})})]})},"sidebarLeft")}var Ne=n(9385),Pe=n.n(Ne);function Oe(){var e=(0,l.v9)((function(e){return e.popups})),t=(0,l.I0)(),n=!1,i=Object.keys(e).map((function(s){return e[s].isOpen&&(n=!0),e[s].renderer((function(){t(ce(s))}),e[s].isOpen,e[s].state)}));return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{width:"100%",height:"100%",position:"fixed",zIndex:1,top:0,pointerEvents:n?"unset":"none",backdropFilter:n?"blur(3px)":"blur(0px)",transition:"backdrop-filter .5s"}}),i]})}function Te(){var e=(0,l.v9)(pe),t=(0,l.I0)(),n=(0,l.v9)((function(e){return e.ui.sidebarOpen}));return(0,s.jsxs)("header",{className:"".concat(a().topbar),style:{fontSize:30,color:e.accentColor,alignItems:"center"},children:[(0,s.jsx)("button",{className:"".concat(a().sidebar_btn),onClick:function(){t(n?se():ne())},children:(0,s.jsx)(w.G,{style:{width:25,height:25,transition:"transform .5s"},icon:n?N.NBC:N.xiG,color:e.accentColor})}),"Photopcopy"]})}function Re(){var e=(0,l.v9)(pe);return(0,i.useEffect)((function(){var t=document.querySelector("body");t&&(t.className=Pe().body,t.setAttribute("data-theme",e.theme))}),[e.theme]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.default,{children:(0,s.jsx)("title",{children:"Oh baby a triple!"})}),(0,s.jsx)(je,{}),(0,s.jsx)(Te,{}),(0,s.jsxs)("div",{style:{maxWidth:1100,display:"flex",width:"calc(100vw - 8px)"},children:[(0,s.jsx)(we,{}),(0,s.jsx)(_e,{})]},"content"),(0,s.jsx)(Oe,{})]})}var Ie=function(){return(0,s.jsx)(l.zt,{store:ee,children:(0,s.jsx)(Re,{})})}},2235:function(e){e.exports={comment_section:"comment_comment_section__9W6IG",header:"comment_header__oylJD",comment_box:"comment_comment_box___7rtO",input:"comment_input__eG7Wg",comment:"comment_comment__aGG4H",username:"comment_username__daUpq"}},9385:function(e){e.exports={body:"styles_body__Sb4Mv"}},6491:function(e){e.exports={topbar:"maincontent_topbar__XQcQw",sidebar_btn:"maincontent_sidebar_btn__xqbIB",posts_loading_text:"maincontent_posts_loading_text__iDF0z"}},558:function(e){e.exports={sidebar_inner:"mainsidebar_sidebar_inner__fLRbC",open:"mainsidebar_open__xR0OH",sidebar:"mainsidebar_sidebar__nU1Kv",sidebar_maximized:"mainsidebar_sidebar_maximized__bXPF_",sidebar_section:"mainsidebar_sidebar_section__Dx6Sk",sidebar_btn:"mainsidebar_sidebar_btn__6a4yy",signin_title:"mainsidebar_signin_title__iBJyb",signin_btn:"mainsidebar_signin_btn__MH2qa"}},6818:function(e){e.exports={page:"createpostpage_page__H22Fn"}},3359:function(e){e.exports={settingspage:"settingspage_settingspage__QIZs9",body:"settingspage_body__sAmc2",section:"settingspage_section__Sc3Ni",description:"settingspage_description__KjytJ",signout_btn:"settingspage_signout_btn__foagB",edit_btn:"settingspage_edit_btn__yRJS3",options_page:"settingspage_options_page__GmeFI",sidebar_tab:"settingspage_sidebar_tab__9DtEV",accent_option:"settingspage_accent_option__SQozQ",radio_select:"settingspage_radio_select__fVLZe",inner:"settingspage_inner__eVYcZ",checkbox:"settingspage_checkbox__308P3"}},3588:function(e){e.exports={signinmenu:"signinmenu_signinmenu__AqHDr",register:"signinmenu_register___HCkI",closebtn:"signinmenu_closebtn__dqCV8",primarybtn:"signinmenu_primarybtn__JQmMT",secondarybtn:"signinmenu_secondarybtn__wBMlp",container:"signinmenu_container__Ov4BB"}},4057:function(e){e.exports={postcontent:"post_postcontent__lqmLr",post:"post_post__iqpiV",body:"post_body__cxbd8",data:"post_data___jOPs",user_details:"post_user_details__VxeRL",username:"post_username__wPofg",post_action:"post_post_action__quq0P"}}},function(e){e.O(0,[523,137,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);